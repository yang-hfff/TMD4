# 4位CPU的设计

## 一、参数

- 测试最高频率：50MHz
- 测试板子：EP4CE6E22C8
- 测试环境：quartus 13.0
- 测试仿真软件：modelsim
- 指令数目：16条
- 指令宽度：8位
- 寄存器宽度：4位
- 程序存储器大小：16*8bit
- 编程语言：verilog HDL
- 预留出进位输出寄存器和ALU的进位输入为学习者魔改指令

## 二、指令

### 1.指令格式

说明：rd是目的操作数，rs是源操作数，im是立即数（如果指令不需要立即数就必须置零）

|  rd  |  rs  |  im  |
| :--: | :--: | :--: |
| 7:6  | 5:4  | 3:0  |

### 2.指令集

说明：xxxx表示指令里的立即数对应的二进制码，jmp im[r1]表示跳到im地址偏移r1存储值的地址去

|   助记符   |  指令码   |
| :--------: | :-------: |
| add r0,#im | 0000_xxxx |
| mov r0,r1  | 0001_0000 |
|   in r0    | 0010_0000 |
| mov r0,#im | 0011_xxxx |
| mov r1,r0  | 0100_0000 |
| add r1,#im | 0101_xxxx |
|   in r1    | 0110_0000 |
| mov r1,#im | 0111_xxxx |
|   out r0   | 1000_0000 |
|   out r1   | 1001_0000 |
|   out in   | 1010_0000 |
|  out #im   | 1011_xxxx |
|   jmp r0   | 1100_0000 |
| jmp im[r1] | 1101_xxxx |
|   jmp in   | 1110_0000 |
|  jmp #im   | 1111_xxxx |

# 三、设计图纸

![design_paper](.\doc\design_paper.jpg)

